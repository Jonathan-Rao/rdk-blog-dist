(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{466:function(s,n,e){"use strict";e.r(n);var a=e(8),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f25309c467d54003a69ec53243f37d5d~tplv-k3u1fbpfcp-zoom-crop-mark:1304:1304:1304:734.awebp?",alt:"给前端的docker 10分钟真 - 快速入门指南"}})]),s._v(" "),n("h1",{attrs:{id:"给前端的docker-10分钟真-快速入门指南"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#给前端的docker-10分钟真-快速入门指南"}},[s._v("#")]),s._v(" 给前端的docker 10分钟真 - 快速入门指南")]),s._v(" "),n("blockquote",[n("p",[s._v("2022年了，咱前端花点时间学点docker，不吃亏不上当")])]),s._v(" "),n("p",[s._v("还没有了解过docker吗，没关系，咱模拟几个场景，两分钟就给你搞明白它是什么，我们什么时候需要它")]),s._v(" "),n("p",[s._v("接着我们拿剩下的七八分钟用docker来同时部署vue2、vue3两个项目，对就是这么快！")]),s._v(" "),n("h2",{attrs:{id:"_1-docker是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-docker是什么"}},[s._v("#")]),s._v(" 1 docker是什么")]),s._v(" "),n("p",[s._v("场景模拟1：单机")]),s._v(" "),n("p",[s._v("在公司勤勤恳恳的你很快得到了领导的认可，这天他让你接手这下面几个新项目，你需要将它们安装在自己的电脑上")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84c2c41a62c648aab6f2fd5185779d58~tplv-k3u1fbpfcp-watermark.awebp",alt:"single"}})]),s._v(" "),n("p",[s._v("慧眼的你发现，这里有多个不同版本的nodejs和mysql：还行，对我来说小意思")]),s._v(" "),n("p",[s._v("场景模拟2：多机")]),s._v(" "),n("p",[s._v("此时公司新来了3个前端实习生和新人，领导要你把这几个项目也给他们安装在本地电脑运行")]),s._v(" "),n("p",[s._v("由于公司历史等原因，暂时只能给他们配置了不同操作系统的电脑：win7、win10、OSX等等")]),s._v(" "),n("p",[s._v("现在你需要把这几个项目分别安装在几台电脑的不同操作系统上，看图")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b31848e522bd4290b7536ae20fa88b71~tplv-k3u1fbpfcp-watermark.awebp",alt:"multi"}})]),s._v(" "),n("p",[s._v("机智的你发现，你的头现在一个比两个大")]),s._v(" "),n("p",[s._v('"安装麻烦费时间，新来的人做项目的时候，还得针对不同项目去切换匹配的版本来用，容易犯错这也给主机环境造成污染这也给主机环境造成污染，一想到未来还有更多的项目要这么搞，这时候可能有人已经想跑路了"')]),s._v(" "),n("p",[s._v("辛辛苦苦安装完成后，看你这么给力，领导又让你在公司内网的两台小服务器上部署一下这几个项目，做公共的开发和测试环境，哦对这两台服务器是linux的，你是不是准备开始百度如何在linux 安装node 和 mysql了？而且还是要安装多个版本的。要是这两台服务器的linux系统还不同呢？")]),s._v(" "),n("p",[s._v("现在到轮到你想提桶了吧")]),s._v(" "),n("p",[s._v("3 docker出场")]),s._v(" "),n("p",[s._v("别慌，这时候docker出场了，它能帮你抹平不同系统的应用程序安装差异")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ccfff88e1ea84ee9bf0f588d455c99b4~tplv-k3u1fbpfcp-watermark.awebp",alt:"multi-docker"}})]),s._v(" "),n("p",[s._v("等等，那为啥不用虚拟机？")]),s._v(" "),n("p",[s._v("因为虚拟机启动慢、损耗大、占用资源多，在不同系统上的迁移/拓展比较复杂")]),s._v(" "),n("p",[s._v("但是docker它不会啊，它启动是秒级的，占用资源少，香不香，跨平台还方便复制")]),s._v(" "),n("p",[s._v("写好配置后，它一个命令就在电脑上同时安装不同版本的nodej、msyql、nginx 等而且是互相隔离独立同时运行，这时候还不需要你手动来回切换")]),s._v(" "),n("p",[s._v("上面的问题不就轻松解决了吗，现在你对docker感兴趣了没")]),s._v(" "),n("h2",{attrs:{id:"_2-docker-基础"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-docker-基础"}},[s._v("#")]),s._v(" 2 docker 基础")]),s._v(" "),n("p",[s._v("现在我们开始来了解一下docker的基础吧")]),s._v(" "),n("p",[s._v("docker 分几个概念：镜像、容器、仓库")]),s._v(" "),n("p",[s._v("镜像：就是像是我们装机时候需要的系统盘或者系统镜像文件，这里它负责创建docker容器的，有很多官方现成的镜像：node、mysql、monogo、nginx可以从远程仓库下载")]),s._v(" "),n("p",[s._v("容器：可以比拟成一个迷你的系统，例如一个只安装mysql5.7的linux最小系统，当然你喜欢也可以把mysql、node安装在同一个容器中，记住**，容器与容器，容器和主机都是互相隔离的**")]),s._v(" "),n("p",[s._v("仓库：仓库就像是github那样的，我们可以制作镜像然后push 提交到云端的仓库，也可以从仓库 pull 下载镜像")]),s._v(" "),n("h2",{attrs:{id:"_3-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装"}},[s._v("#")]),s._v(" 3 安装")]),s._v(" "),n("p",[s._v("docker的安装很简单，win、osx都是图形界面安装，linux的也几行命令,现在的mac的m1芯片系列也支持了，这里我们先略过安装步骤，要快！先看完！")]),s._v(" "),n("p",[s._v("ps:在m1芯片的docker上安装mysql需要稍加点配置")]),s._v(" "),n("p",[s._v("安装好运行下方代码查看")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker -v\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"_4-实战-部署vue2和vue3项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-实战-部署vue2和vue3项目"}},[s._v("#")]),s._v(" 4 实战：部署vue2和vue3项目")]),s._v(" "),n("p",[s._v("安装好docker后，我们现在来实战了，搓搓手")]),s._v(" "),n("p",[s._v("我们要让电脑同时运行nodejs10和nodejs12多个版本")]),s._v(" "),n("blockquote",[n("p",[s._v("ps: 咱先快速入门，我们暂时先把不同版本的mysql安装放一边哈")])]),s._v(" "),n("h3",{attrs:{id:"_4-1-准备vue2-、-vue3项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-准备vue2-、-vue3项目"}},[s._v("#")]),s._v(" 4.1 准备vue2 、 vue3项目")]),s._v(" "),n("p",[s._v("先跟着一起做，咱后面再解释")]),s._v(" "),n("p",[s._v("现在新建一个文件放我们的项目：命名 为 :my-repository")]),s._v(" "),n("p",[s._v("安装vue2+webpack项目")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 0 命令行进入到该文件夹的位置：\ncd /你的电脑具体的文件路径/my-repository\n\n# 1.现在安装vue-cli\nnpm install -g @vue/cli\n\n# 2.查看vue-cli安装成功否\nvue --version\n#我这里是@vue/cli 4.5.15\n\n# 3. 用vue-cli快速创建项目,安装选项我们如下\n# > ❯ Default ([Vue 2] babel, eslint)\n# > ❯ npm包管理\nvue create my-app-vue2\n\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("安装vue3+vite项目")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#先安装vite最新版\nnpm init vite@latest\n\n# 创建vue3项目\nnpm init vite@latest my-app-vue3 --template vue\n\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//vite需要开启网络访问\n//vite.config.js 开启host\nexport default defineConfig({\n  plugins: [vue()],\n+  server: {\n+    host: '0.0.0.0',\n+  },\n});\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#安装完成后我们的目录是这样的\nmy-repository\n├── my-app-vue2\n│   ├── public\n│   └── src\n│       ├── assets\n│       └── components\n└── my-app-vue3\n    ├── public\n    └── src\n        ├── assets\n        └── components\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"_4-2-创建运行docker容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-创建运行docker容器"}},[s._v("#")]),s._v(" 4.2 创建运行docker容器")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('# 0 先进入我们刚才安装了vue项目的文件夹位置\ncd my-repository\n\n# 1 执行pwd可以获取当前文件夹在电脑的绝对目录\npwd\n# /Users/eric/my-repository\n\n# 2 运行创建docker容器1：承载 vue2+webpack+nodejs10\ndocker run -it -d --name myvue2 --privileged -p 8081:8080 -v  /Users/eric/my-repository/my-app-vue2:/app/vue node:10.16.2 /bin/bash -c "cd /app/vue && node -v && npm install && npm run serve"\n\n# 3 运行创建docker容器2：承载 vue3+vite+nodejs12\ndocker run -it -d --name myvue3 --privileged -p 8080:3000 -v /Users/eric/my-repository/my-app-vue3:/app/vue node:12.22.6 /bin/bash -c "cd /app/vue && node -v && npm install && npm run dev"\n\n#运行成功后 查看容器运行情况\ndocker ps -a\n\n复制代码\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("成功运行后会出现")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/14190fdc31d74b6b90061941b49be066~tplv-k3u1fbpfcp-watermark.awebp",alt:"ps-a"}})]),s._v(" "),n("p",[s._v("我们可以看到容器的启动状态、端口映射、容器名字")]),s._v(" "),n("p",[s._v("打开浏览器，我们访问localhost:8080和localhost:8081可以看到")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d809c417c4dd4d14ba9fbd03c72c44b0~tplv-k3u1fbpfcp-watermark.awebp",alt:"vue2 && vue3"}})]),s._v(" "),n("p",[s._v("如果出错可看下面第三点：[调试](###3 调试)：运行如下命令查看原因")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker logs -f container_id/containe_name\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("上面那一坨"),n("code",[s._v("docker run xxxxx")]),s._v(" 的代码到底是啥，现在我们就来捋顺")]),s._v(" "),n("p",[s._v("首先这个"),n("code",[s._v("docker run")]),s._v(" 是可以用来创建同时启动运行容器")]),s._v(" "),n("p",[s._v('先换行来看 : shell 脚本太长的时候我们可以用 ""把一行命令分成多行')]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('docker run\\\n-it\\\n-d\\\n--name myvue2\\\n--privileged\\\n-p 8081:8080\\\n-v /Users/eric/my-repository/my-app-vue2:/app/vue\\\nnode:10.16.2\\\n/bin/bash -c "cd /app/vue2 && node -v && npm install && npm run serve"\n复制代码\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("这里我们使用 "),n("code",[s._v("docker run")]),s._v(" 命令可以下载镜像 ->通过镜像创建容器 ->启动运行容器")]),s._v(" "),n("p",[s._v("参数解析：")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("参数")]),s._v(" "),n("th",[s._v("描述")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("-d")]),s._v(" "),n("td",[s._v("以守护进程的方式让容器在后台运行，在这您之 前可能使用的是pm2来守护进程")])]),s._v(" "),n("tr",[n("td",[s._v("-it")]),s._v(" "),n("td",[s._v("这里是 -i和 -t的缩写\\")])])])]),s._v(" "),n("p",[s._v("-i：告诉 Docker 容器保持标准输入流对容器开放,即使容器没有终端连接"),n("br"),s._v("\n告诉 Docker 为容器分配一个虚拟终端 |\n| --name myvue2 | 将容器命名为 myvue2，这样访问和操作容 器等就不需要输入一大串的容器ID |\n| --privileged | 让容器的用户在容器内能获取完全root权限 |\n| -p 8081:8080 | 将容器的8080端口映射到宿主机的8081端口上"),n("br"),s._v("\n这样我们访问本机的localhost:8081,就是访问到容器的8080端口"),n("br"),s._v("\n因为容器都是独立运行互相隔离的，容器与容器各自的8080端口、容器跟主机各自的8080端口都不是一个东西，主机只有在这给端口做映射才能访问到容器端口 |\n| -v /Users/eric/my-repository/my-app-vue2:/app/vue | 将主机的my-app-vue2目录(命令行这里只能写绝对路径哈)下的内容挂载到容器的目录/app/vue内，"),n("br"),s._v("\n如果容器的指定目录有文件/文件夹，将被清空"),n("br"),s._v("\n挂载后，容器修改 /app/vue目录的内容，也是在修改主机目录/Users/eric/my-repository/my-app-vue2内容 |\n| node:10.16.2 | 这里是指定nodejs，版本为10.16.2的镜像来创建容器"),n("br"),s._v('\n如果不指定版本，会默认下载当前镜像的最新版本 |\n| /bin/bash -c "cd /app/vue2 && node -v && npm install && npm run serve" | /bin/bash：是在让容器分配的虚拟终端以 bash 模式执行命令'),n("br"),s._v('\n-c ""cd /app/vue2 && node -v && npm install && npm run serve：只能执行一条 shell 命令，需要多个命令按需用&&、 |')]),s._v(" "),n("p",[s._v("docker run的运行示意图")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/352f5d9252334d1ba1f57024020d752c~tplv-k3u1fbpfcp-watermark.awebp",alt:"processon-run2"}})]),s._v(" "),n("p",[s._v("上面代码运行成功后我们的电脑就会有两个互相隔离独立运行的docker容器")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fddd2c38b9eb40ca9bfe69054dba795f~tplv-k3u1fbpfcp-watermark.awebp",alt:"docker-vue2-vue3"}})]),s._v(" "),n("h3",{attrs:{id:"_4-3-调试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-调试"}},[s._v("#")]),s._v(" 4.3 调试")]),s._v(" "),n("p",[s._v("常用的调试命令 1")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 运行后按ctrl + c 可退出\ndocker logs -f contianer_name/container_id\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("当然容器内正在进行编译或者发生错误甚至退出的时候，我们可用此命令查看终端输出的信息")]),s._v(" "),n("p",[s._v("🌰 ：运行成功后，查看myvue 容器的npm run serve 在终端上的实时输出信息")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#查看docker container的终端输出信息\ndocker logs -f myvue2\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("常用的调试命令 2")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 打印出容器的端口映射、目录挂载、网络等等\ndocker inspect myvue2\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"_5-常用操作命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-常用操作命令"}},[s._v("#")]),s._v(" 5 常用操作命令")]),s._v(" "),n("p",[s._v("常用的操作命令表一栏，需要先收藏")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b78fab6013914e98826a7009cf849f51~tplv-k3u1fbpfcp-watermark.awebp",alt:"Docker 基础指令 中"}})]),s._v(" "),n("h3",{attrs:{id:"镜像操作命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜像操作命令"}},[s._v("#")]),s._v(" 镜像操作命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 搜索镜像\ndocker search [images_name:tag]\n\n# 下载镜像（：指定版本）\ndocker pull [images_name:tag]\n\n# 查看本地下载的镜像\ndocker images\n\n# 自己构建镜像\n# 根据dockerfile的路径或者url构建镜像\n docker build [OPTIONS] PATH|URL|-\n\n# 查看镜像的构建历史\ndocker history [images_name]\n\n# 删除镜像\n# 需要先删除以此镜像为基础的容器\n docker rmi [images_name]\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h3",{attrs:{id:"容器操作命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#容器操作命令"}},[s._v("#")]),s._v(" 容器操作命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 查看运行中的容器\n# 可以查看容器ID、基础镜像、容器名称、运行状态、端口映射等\ndocker ps\n\n# 查看所有容器：包括停止的\ndocker ps -a\n\n# 查看容器的信息\n# 例如端口号的映射、目录挂载\ndocker inspect [images_name/images_id]\n\n# 启动和停止容器\ndocker start/stop [container_name/container_id]\n\n#  重启容器\n#  使用场景实例：\n#  在加入新的npm包依赖需要重新编译的时候使用重启运行编译\n#  nginx容器的配置更新后需要重启生效\ndocker restart [container_name/container_id]\n\n# 进入容器\n# ps:有些容器没有bash,需要改成/bin/sh，例如mysq、mongodb的\n# 退出人容器输入exit 回车键\ndocker exec -it [container_name/container_id] /bin/bash\n\n# 删除容器\n# 在容器停止的状态才能删\ndocker rm [container_name/container_id]\n\n# 容器主机文件拷\n# 将容器文件拷贝到主机\ndocker cp [container_id/container_name] : [文件目录] [主机目录]\n\n# 将主机的目录拷贝到容器\ndocker cp [主机目录] [container_id/container_name] : [文件目录]\n\n复制代码\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h2",{attrs:{id:"_6-进阶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-进阶"}},[s._v("#")]),s._v(" 6 进阶")]),s._v(" "),n("p",[s._v("如果没有合适的镜像，我们通常用Dockerfile来构建自定义镜像")]),s._v(" "),n("p",[s._v("发现没，上面的"),n("code",[s._v("docker run")]),s._v(" 只能创建启动一个docker容器，我们可以用"),n("code",[s._v("docker-compose")]),s._v("来一次启动多个容器，常用于单机下安装多个服务")]),s._v(" "),n("p",[s._v("慢点再来更新，大家有兴趣也可以先看到我用docker 部署的"),n("a",{attrs:{href:"https://juejin.cn/post/6867861517603438605",title:"https://juejin.cn/post/6867861517603438605",target:"_blank",rel:"noopener noreferrer"}},[s._v("Jenkins自动化部署 CI/CD 环境"),n("OutboundLink")],1),s._v(" 里面也有docker-compose的使用")])])}),[],!1,null,null,null);n.default=t.exports}}]);